<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Takvim Notları</title>
  <style>
    body {
      background: url('https://giffiles.alphacoders.com/223/223515.gif') no-repeat center center fixed;
      background-size: cover;
      background-color: #0f0f0f;
      color: #00ffff;
      font-family: 'Courier New', monospace;
      padding: 20px;
      backdrop-filter: brightness(0.8);
    }
    h1 {
      text-align: center;
      text-shadow: 0 0 10px #00ffff;
    }
    .controls {
      text-align: center;
      margin-bottom: 20px;
    }
    select {
      background: #111;
      color: #00ffff;
      border: 1px solid #00ffff;
      padding: 5px;
      font-family: monospace;
    }
    button {
      background-color: #00ffff;
      color: #000;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      font-family: monospace;
    }
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
    }
    .day {
      background-color: rgba(0, 0, 0, 0.6);
      border: 1px solid #00ffff;
      padding: 10px;
      cursor: pointer;
      position: relative;
      transition: background-color 0.3s ease;
    }
    .day:hover {
      background-color: rgba(0, 255, 255, 0.1);
    }
    .note {
      font-size: 0.9em;
      margin-top: 5px;
      color: #ffcc00;
    }
    #noteModal {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(17, 17, 17, 0.95);
      border: 2px solid #00ffff;
      padding: 20px;
      display: none;
      z-index: 10;
      box-shadow: 0 0 20px #00ffff;
    }
    #noteModal textarea {
      width: 100%;
      height: 100px;
      background: #222;
      color: #00ffff;
      border: none;
      resize: none;
      font-family: monospace;
    }
    #noteModal button {
      margin-top: 10px;
      margin-right: 10px;
      background-color: #00ffff;
      color: #000;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
    }
    #doneCheckbox {
      margin-top: 10px;
      accent-color: #00ff88;
    }
    label {
      display: block;
      margin-top: 10px;
      color: #00ff88;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>Takvim Notları</h1>
  <div class="controls">
    <label>Yıl: 
      <select id="yearSelect"></select>
    </label>
    <label>Ay: 
      <select id="monthSelect">
        <option value="0">Ocak</option>
        <option value="1">Şubat</option>
        <option value="2">Mart</option>
        <option value="3">Nisan</option>
        <option value="4">Mayıs</option>
        <option value="5">Haziran</option>
        <option value="6">Temmuz</option>
        <option value="7">Ağustos</option>
        <option value="8">Eylül</option>
        <option value="9">Ekim</option>
        <option value="10">Kasım</option>
        <option value="11">Aralık</option>
      </select>
    </label>
    <button onclick="generateCalendar()">Göster</button>
  </div>

  <div class="calendar" id="calendar"></div>

  <div id="noteModal">
    <h3 id="modalDate"></h3>
    <textarea id="noteText"></textarea>
    <label>
      <input type="checkbox" id="doneCheckbox" />
      Tamamlandı
    </label><br>
    <button onclick="saveNote()">Kaydet</button>
    <button onclick="deleteNote()">Sil</button>
    <button onclick="closeModal()">Kapat</button>
  </div>

  <script>
    const calendar = document.getElementById('calendar');
    const modal = document.getElementById('noteModal');
    const modalDate = document.getElementById('modalDate');
    const noteText = document.getElementById('noteText');
    const doneCheckbox = document.getElementById('doneCheckbox');
    const yearSelect = document.getElementById('yearSelect');
    const monthSelect = document.getElementById('monthSelect');
    let selectedDate = '';

    for (let y = 2020; y <= 2088; y++) {
      const option = document.createElement('option');
      option.value = y;
      option.textContent = y;
      yearSelect.appendChild(option);
    }

    yearSelect.value = new Date().getFullYear();
    monthSelect.value = new Date().getMonth();

    function generateCalendar() {
      calendar.innerHTML = '';
      const year = parseInt(yearSelect.value);
      const month = parseInt(monthSelect.value);
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const today = new Date();

      for (let day = 1; day <= daysInMonth; day++) {
        const dateKey = `${year}-${month + 1}-${day}`;
        const note = localStorage.getItem(dateKey) || '';
        const done = localStorage.getItem(dateKey + '-done') === 'true';
        const dayDate = new Date(year, month, day);

        const dayDiv = document.createElement('div');
        dayDiv.className = 'day';
        dayDiv.innerHTML = `<strong>${day}</strong>${note ? `<div class="note">${note}</div>` : ''}`;

        if (note) {
          const noteDiv = dayDiv.querySelector('.note');
          if (done) {
            dayDiv.style.borderColor = '#00ff88';
            noteDiv.style.color = '#00ff88';
          } else if (dayDate < today) {
            dayDiv.style.borderColor = '#ff4444';
            noteDiv.style.color = '#ff4444';
          } else {
            dayDiv.style.borderColor = '#ffcc00';
            noteDiv.style.color = '#ffcc00';
          }
        }

        dayDiv.onclick = () => openModal(dateKey);
        calendar.appendChild(dayDiv);
      }
    }

    function openModal(date) {
      selectedDate = date;
      modalDate.textContent = `Not: ${date}`;
      noteText.value = localStorage.getItem(date) || '';
      doneCheckbox.checked = localStorage.getItem(date + '-done') === 'true';
      modal.style.display = 'block';
    }

    function closeModal() {
      modal.style.display = 'none';
    }

    function saveNote() {
      const note = noteText.value.trim();
      const done = doneCheckbox.checked;
      if (note) {
        localStorage.setItem(selectedDate, note);
        localStorage.setItem(selectedDate + '-done', done ? 'true' : 'false');
      } else {
        localStorage.removeItem(selectedDate);
        localStorage.removeItem(selectedDate + '-done');
      }
      generateCalendar();
      closeModal();
    }

    function deleteNote() {
      localStorage.removeItem(selectedDate);
      localStorage.removeItem(selectedDate + '-done');
      generateCalendar();
      closeModal();
    }

    generateCalendar();
  </script>
</body>
</html>
